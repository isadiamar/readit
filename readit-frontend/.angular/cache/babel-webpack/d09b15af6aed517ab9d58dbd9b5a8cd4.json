{
  "ast": null,
  "code": "import _asyncToGenerator from \"C:/readit/readit-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { FormControl, Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../shared/services/data.service\";\nimport * as i3 from \"../../../../core/auth.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/material/snack-bar\";\nimport * as i6 from \"@angular/material/form-field\";\nimport * as i7 from \"@angular/material/input\";\nimport * as i8 from \"@angular/material/button\";\nexport class LoginFormComponent {\n  constructor(formBuilder, data, authService, router, _snackBar) {\n    this.formBuilder = formBuilder;\n    this.data = data;\n    this.authService = authService;\n    this.router = router;\n    this._snackBar = _snackBar;\n    this.submitDisabled = true;\n  }\n\n  ngOnInit() {\n    this.loginForm = this.formBuilder.group({\n      email: new FormControl('', [Validators.required, Validators.pattern(\"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-z]{2,4}$\")]),\n      password: new FormControl('', [Validators.required, Validators.minLength(6)])\n    });\n    this.loginForm.valueChanges.subscribe(_ => {\n      this.checkDisabled();\n    });\n    this.subscription = this.data.currentMessage.subscribe(message => this.message = message);\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n\n  checkDisabled() {\n    let email = this.loginForm.controls['email'].value;\n    let password = this.loginForm.controls['password'].value;\n    this.submitDisabled = email === '' || password === '' || !this.loginForm.valid;\n  }\n\n  submit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this.loginForm.valid) {\n        let email = _this.loginForm.controls['email'].value;\n        let password = _this.loginForm.controls['password'].value;\n\n        _this.authService.login(email, password).subscribe(res => console.log(res)).add(yield _this.router.navigate(['myStories/new']).then(_ => _this.clearFields()));\n      }\n    })();\n  }\n\n  clearFields() {\n    this.loginForm.reset();\n    Object.keys(this.loginForm.controls).forEach(key => {\n      var _a;\n\n      (_a = this.loginForm.get(key)) === null || _a === void 0 ? void 0 : _a.setErrors(null);\n    });\n  }\n\n  newMessage(message) {\n    this.data.changeMessage(message);\n  }\n\n}\n\nLoginFormComponent.ɵfac = function LoginFormComponent_Factory(t) {\n  return new (t || LoginFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.WelcomeService), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i5.MatSnackBar));\n};\n\nLoginFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginFormComponent,\n  selectors: [[\"app-login-form\"]],\n  decls: 22,\n  vars: 2,\n  consts: [[1, \"auth\"], [3, \"formGroup\"], [1, \"control\"], [\"appearance\", \"outline\"], [\"formControlName\", \"email\", \"matInput\", \"\", \"placeholder\", \"email@email.com\", \"required\", \"\", \"type\", \"email\"], [\"formControlName\", \"password\", \"matInput\", \"\", \"placeholder\", \"password\", \"required\", \"\", \"type\", \"password\"], [1, \"actions\"], [\"mat-flat-button\", \"\", \"color\", \"accent\", 3, \"disabled\", \"click\"], [1, \"formLink\"], [3, \"click\"]],\n  template: function LoginFormComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0);\n      i0.ɵɵelementStart(1, \"h1\");\n      i0.ɵɵtext(2, \"Welcome back!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"h2\");\n      i0.ɵɵtext(4, \"It's good to see you\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"form\", 1);\n      i0.ɵɵelementStart(6, \"div\", 2);\n      i0.ɵɵelementStart(7, \"mat-form-field\", 3);\n      i0.ɵɵelementStart(8, \"mat-label\");\n      i0.ɵɵtext(9, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(10, \"input\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 2);\n      i0.ɵɵelementStart(12, \"mat-form-field\", 3);\n      i0.ɵɵelementStart(13, \"mat-label\");\n      i0.ɵɵtext(14, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(15, \"input\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\", 6);\n      i0.ɵɵelementStart(17, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function LoginFormComponent_Template_button_click_17_listener() {\n        return ctx.submit();\n      });\n      i0.ɵɵtext(18, \"Log in\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 8);\n      i0.ɵɵelementStart(20, \"a\", 9);\n      i0.ɵɵlistener(\"click\", function LoginFormComponent_Template_a_click_20_listener() {\n        return ctx.newMessage(\"signup\");\n      });\n      i0.ɵɵtext(21, \"Not register? Do it here\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"disabled\", ctx.submitDisabled);\n    }\n  },\n  directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i6.MatFormField, i6.MatLabel, i1.DefaultValueAccessor, i7.MatInput, i1.NgControlStatus, i1.FormControlName, i1.RequiredValidator, i8.MatButton],\n  styles: [\".auth[_ngcontent-%COMP%] {\\r\\n  width: 25rem;\\r\\n  border-radius: 2%;\\r\\n  background-color: white;\\r\\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);\\r\\n  border: 3px solid #989696;\\r\\n  padding: 3rem 1rem 3rem 1rem;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.auth[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\r\\n  font-family: Roboto, sans-serif;\\r\\n  font-size: 12px;\\r\\n  color: #D44171;\\r\\n  font-weight: bolder;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.auth[_ngcontent-%COMP%]   .formLink[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  align-items: flex-start;\\r\\n  margin-left: 2.8rem;\\r\\n  margin-bottom: 1rem;\\r\\n}\\r\\n\\r\\n.auth[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .auth[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\r\\n  font-family: 'Quicksand', sans-serif;\\r\\n  text-align: center;\\r\\n  font-weight: bold;\\r\\n  letter-spacing: 2px;\\r\\n  text-transform: uppercase;\\r\\n}\\r\\n\\r\\n.auth[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\r\\n  margin-top: 1rem;\\r\\n  font-size: 30px;\\r\\n}\\r\\n\\r\\n.auth[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\r\\n  font-size: 15px;\\r\\n  margin-bottom: 2rem;\\r\\n}\\r\\n\\r\\nmat-form-field[_ngcontent-%COMP%] {\\r\\n  border-radius: 15px;\\r\\n  border-color: #d2225d;\\r\\n}\\r\\n\\r\\n.actions[_ngcontent-%COMP%] {\\r\\n  margin-top: 1rem;\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\n.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\r\\n  width: 80%;\\r\\n  margin-bottom: 1rem;\\r\\n  cursor: pointer;\\r\\n  font: inherit;\\r\\n  border-radius: 5px;\\r\\n  padding: 1rem 2.5rem;\\r\\n}\\r\\n\\r\\nmat-form-field[_ngcontent-%COMP%] {\\r\\n  width: 80%;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLWZvcm0uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFlBQVk7RUFDWixpQkFBaUI7RUFDakIsdUJBQXVCO0VBQ3ZCLHdDQUF3QztFQUN4Qyx5QkFBeUI7RUFDekIsNEJBQTRCO0VBQzVCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLCtCQUErQjtFQUMvQixlQUFlO0VBQ2YsY0FBYztFQUNkLG1CQUFtQjtFQUNuQixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixtQkFBbUI7RUFDbkIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0Usb0NBQW9DO0VBQ3BDLGtCQUFrQjtFQUNsQixpQkFBaUI7RUFDakIsbUJBQW1CO0VBQ25CLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxVQUFVO0VBQ1YsbUJBQW1CO0VBQ25CLGVBQWU7RUFDZixhQUFhO0VBQ2Isa0JBQWtCO0VBQ2xCLG9CQUFvQjtBQUN0Qjs7QUFHQTtFQUNFLFVBQVU7QUFDWiIsImZpbGUiOiJsb2dpbi1mb3JtLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYXV0aCB7XHJcbiAgd2lkdGg6IDI1cmVtO1xyXG4gIGJvcmRlci1yYWRpdXM6IDIlO1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gIGJveC1zaGFkb3c6IDAgMXB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMik7XHJcbiAgYm9yZGVyOiAzcHggc29saWQgIzk4OTY5NjtcclxuICBwYWRkaW5nOiAzcmVtIDFyZW0gM3JlbSAxcmVtO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLmF1dGggYSB7XHJcbiAgZm9udC1mYW1pbHk6IFJvYm90bywgc2Fucy1zZXJpZjtcclxuICBmb250LXNpemU6IDEycHg7XHJcbiAgY29sb3I6ICNENDQxNzE7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGRlcjtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi5hdXRoIC5mb3JtTGluayB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcclxuICBtYXJnaW4tbGVmdDogMi44cmVtO1xyXG4gIG1hcmdpbi1ib3R0b206IDFyZW07XHJcbn1cclxuXHJcbi5hdXRoIGgxLCAuYXV0aCBoMiwgLmFjdGlvbnMgYnV0dG9uIHtcclxuICBmb250LWZhbWlseTogJ1F1aWNrc2FuZCcsIHNhbnMtc2VyaWY7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIGxldHRlci1zcGFjaW5nOiAycHg7XHJcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcclxufVxyXG5cclxuLmF1dGggaDEge1xyXG4gIG1hcmdpbi10b3A6IDFyZW07XHJcbiAgZm9udC1zaXplOiAzMHB4O1xyXG59XHJcblxyXG4uYXV0aCBoMiB7XHJcbiAgZm9udC1zaXplOiAxNXB4O1xyXG4gIG1hcmdpbi1ib3R0b206IDJyZW07XHJcbn1cclxuXHJcbm1hdC1mb3JtLWZpZWxkIHtcclxuICBib3JkZXItcmFkaXVzOiAxNXB4O1xyXG4gIGJvcmRlci1jb2xvcjogI2QyMjI1ZDtcclxufVxyXG5cclxuLmFjdGlvbnMge1xyXG4gIG1hcmdpbi10b3A6IDFyZW07XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5hY3Rpb25zIGJ1dHRvbiB7XHJcbiAgd2lkdGg6IDgwJTtcclxuICBtYXJnaW4tYm90dG9tOiAxcmVtO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICBmb250OiBpbmhlcml0O1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICBwYWRkaW5nOiAxcmVtIDIuNXJlbTtcclxufVxyXG5cclxuXHJcbm1hdC1mb3JtLWZpZWxkIHtcclxuICB3aWR0aDogODAlO1xyXG59XHJcbiJdfQ== */\"]\n});",
  "map": {
    "version": 3,
    "sources": [
      "C:/readit/readit-frontend/src/app/readit/welcome/forms/login-form/login-form.component.ts"
    ],
    "names": [
      "FormControl",
      "Validators",
      "i0",
      "i1",
      "i2",
      "i3",
      "i4",
      "i5",
      "i6",
      "i7",
      "i8",
      "LoginFormComponent",
      "constructor",
      "formBuilder",
      "data",
      "authService",
      "router",
      "_snackBar",
      "submitDisabled",
      "ngOnInit",
      "loginForm",
      "group",
      "email",
      "required",
      "pattern",
      "password",
      "minLength",
      "valueChanges",
      "subscribe",
      "_",
      "checkDisabled",
      "subscription",
      "currentMessage",
      "message",
      "ngOnDestroy",
      "unsubscribe",
      "controls",
      "value",
      "valid",
      "submit",
      "login",
      "res",
      "console",
      "log",
      "add",
      "navigate",
      "then",
      "clearFields",
      "reset",
      "Object",
      "keys",
      "forEach",
      "key",
      "_a",
      "get",
      "setErrors",
      "newMessage",
      "changeMessage",
      "ɵfac",
      "LoginFormComponent_Factory",
      "t",
      "ɵɵdirectiveInject",
      "FormBuilder",
      "WelcomeService",
      "AuthService",
      "Router",
      "MatSnackBar",
      "ɵcmp",
      "ɵɵdefineComponent",
      "type",
      "selectors",
      "decls",
      "vars",
      "consts",
      "template",
      "LoginFormComponent_Template",
      "rf",
      "ctx",
      "ɵɵelementStart",
      "ɵɵtext",
      "ɵɵelementEnd",
      "ɵɵelement",
      "ɵɵlistener",
      "LoginFormComponent_Template_button_click_17_listener",
      "LoginFormComponent_Template_a_click_20_listener",
      "ɵɵadvance",
      "ɵɵproperty",
      "directives",
      "ɵNgNoValidate",
      "NgControlStatusGroup",
      "FormGroupDirective",
      "MatFormField",
      "MatLabel",
      "DefaultValueAccessor",
      "MatInput",
      "NgControlStatus",
      "FormControlName",
      "RequiredValidator",
      "MatButton",
      "styles"
    ],
    "mappings": "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",
    "sourcesContent": [
      "import { FormControl, Validators } from \"@angular/forms\";\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/forms\";\r\nimport * as i2 from \"../../../shared/services/data.service\";\r\nimport * as i3 from \"../../../../core/auth.service\";\r\nimport * as i4 from \"@angular/router\";\r\nimport * as i5 from \"@angular/material/snack-bar\";\r\nimport * as i6 from \"@angular/material/form-field\";\r\nimport * as i7 from \"@angular/material/input\";\r\nimport * as i8 from \"@angular/material/button\";\r\nexport class LoginFormComponent {\r\n    constructor(formBuilder, data, authService, router, _snackBar) {\r\n        this.formBuilder = formBuilder;\r\n        this.data = data;\r\n        this.authService = authService;\r\n        this.router = router;\r\n        this._snackBar = _snackBar;\r\n        this.submitDisabled = true;\r\n    }\r\n    ngOnInit() {\r\n        this.loginForm = this.formBuilder.group({\r\n            email: new FormControl('', [Validators.required, Validators.pattern(\"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-z]{2,4}$\")]),\r\n            password: new FormControl('', [Validators.required, Validators.minLength(6)])\r\n        });\r\n        this.loginForm.valueChanges.subscribe(_ => {\r\n            this.checkDisabled();\r\n        });\r\n        this.subscription = this.data.currentMessage.subscribe(message => this.message = message);\r\n    }\r\n    ngOnDestroy() {\r\n        this.subscription.unsubscribe();\r\n    }\r\n    checkDisabled() {\r\n        let email = this.loginForm.controls['email'].value;\r\n        let password = this.loginForm.controls['password'].value;\r\n        this.submitDisabled = email === '' || password === '' || !this.loginForm.valid;\r\n    }\r\n    async submit() {\r\n        if (this.loginForm.valid) {\r\n            let email = this.loginForm.controls['email'].value;\r\n            let password = this.loginForm.controls['password'].value;\r\n            this.authService.login(email, password)\r\n                .subscribe(res => console.log(res))\r\n                .add(await this.router.navigate(['myStories/new']).then(_ => this.clearFields()));\r\n        }\r\n    }\r\n    clearFields() {\r\n        this.loginForm.reset();\r\n        Object.keys(this.loginForm.controls).forEach(key => {\r\n            var _a;\r\n            (_a = this.loginForm.get(key)) === null || _a === void 0 ? void 0 : _a.setErrors(null);\r\n        });\r\n    }\r\n    newMessage(message) {\r\n        this.data.changeMessage(message);\r\n    }\r\n}\r\nLoginFormComponent.ɵfac = function LoginFormComponent_Factory(t) { return new (t || LoginFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.WelcomeService), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i5.MatSnackBar)); };\r\nLoginFormComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: LoginFormComponent, selectors: [[\"app-login-form\"]], decls: 22, vars: 2, consts: [[1, \"auth\"], [3, \"formGroup\"], [1, \"control\"], [\"appearance\", \"outline\"], [\"formControlName\", \"email\", \"matInput\", \"\", \"placeholder\", \"email@email.com\", \"required\", \"\", \"type\", \"email\"], [\"formControlName\", \"password\", \"matInput\", \"\", \"placeholder\", \"password\", \"required\", \"\", \"type\", \"password\"], [1, \"actions\"], [\"mat-flat-button\", \"\", \"color\", \"accent\", 3, \"disabled\", \"click\"], [1, \"formLink\"], [3, \"click\"]], template: function LoginFormComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"section\", 0);\r\n        i0.ɵɵelementStart(1, \"h1\");\r\n        i0.ɵɵtext(2, \"Welcome back!\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(3, \"h2\");\r\n        i0.ɵɵtext(4, \"It's good to see you\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(5, \"form\", 1);\r\n        i0.ɵɵelementStart(6, \"div\", 2);\r\n        i0.ɵɵelementStart(7, \"mat-form-field\", 3);\r\n        i0.ɵɵelementStart(8, \"mat-label\");\r\n        i0.ɵɵtext(9, \"Email\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(10, \"input\", 4);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(11, \"div\", 2);\r\n        i0.ɵɵelementStart(12, \"mat-form-field\", 3);\r\n        i0.ɵɵelementStart(13, \"mat-label\");\r\n        i0.ɵɵtext(14, \"Password\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(15, \"input\", 5);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(16, \"div\", 6);\r\n        i0.ɵɵelementStart(17, \"button\", 7);\r\n        i0.ɵɵlistener(\"click\", function LoginFormComponent_Template_button_click_17_listener() { return ctx.submit(); });\r\n        i0.ɵɵtext(18, \"Log in\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(19, \"div\", 8);\r\n        i0.ɵɵelementStart(20, \"a\", 9);\r\n        i0.ɵɵlistener(\"click\", function LoginFormComponent_Template_a_click_20_listener() { return ctx.newMessage(\"signup\"); });\r\n        i0.ɵɵtext(21, \"Not register? Do it here\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\r\n        i0.ɵɵadvance(12);\r\n        i0.ɵɵproperty(\"disabled\", ctx.submitDisabled);\r\n    } }, directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i6.MatFormField, i6.MatLabel, i1.DefaultValueAccessor, i7.MatInput, i1.NgControlStatus, i1.FormControlName, i1.RequiredValidator, i8.MatButton], styles: [\".auth[_ngcontent-%COMP%] {\\r\\n  width: 25rem;\\r\\n  border-radius: 2%;\\r\\n  background-color: white;\\r\\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);\\r\\n  border: 3px solid #989696;\\r\\n  padding: 3rem 1rem 3rem 1rem;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.auth[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\r\\n  font-family: Roboto, sans-serif;\\r\\n  font-size: 12px;\\r\\n  color: #D44171;\\r\\n  font-weight: bolder;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.auth[_ngcontent-%COMP%]   .formLink[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  align-items: flex-start;\\r\\n  margin-left: 2.8rem;\\r\\n  margin-bottom: 1rem;\\r\\n}\\r\\n\\r\\n.auth[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .auth[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\r\\n  font-family: 'Quicksand', sans-serif;\\r\\n  text-align: center;\\r\\n  font-weight: bold;\\r\\n  letter-spacing: 2px;\\r\\n  text-transform: uppercase;\\r\\n}\\r\\n\\r\\n.auth[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\r\\n  margin-top: 1rem;\\r\\n  font-size: 30px;\\r\\n}\\r\\n\\r\\n.auth[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\r\\n  font-size: 15px;\\r\\n  margin-bottom: 2rem;\\r\\n}\\r\\n\\r\\nmat-form-field[_ngcontent-%COMP%] {\\r\\n  border-radius: 15px;\\r\\n  border-color: #d2225d;\\r\\n}\\r\\n\\r\\n.actions[_ngcontent-%COMP%] {\\r\\n  margin-top: 1rem;\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\n.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\r\\n  width: 80%;\\r\\n  margin-bottom: 1rem;\\r\\n  cursor: pointer;\\r\\n  font: inherit;\\r\\n  border-radius: 5px;\\r\\n  padding: 1rem 2.5rem;\\r\\n}\\r\\n\\r\\nmat-form-field[_ngcontent-%COMP%] {\\r\\n  width: 80%;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLWZvcm0uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFlBQVk7RUFDWixpQkFBaUI7RUFDakIsdUJBQXVCO0VBQ3ZCLHdDQUF3QztFQUN4Qyx5QkFBeUI7RUFDekIsNEJBQTRCO0VBQzVCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLCtCQUErQjtFQUMvQixlQUFlO0VBQ2YsY0FBYztFQUNkLG1CQUFtQjtFQUNuQixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixtQkFBbUI7RUFDbkIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0Usb0NBQW9DO0VBQ3BDLGtCQUFrQjtFQUNsQixpQkFBaUI7RUFDakIsbUJBQW1CO0VBQ25CLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxVQUFVO0VBQ1YsbUJBQW1CO0VBQ25CLGVBQWU7RUFDZixhQUFhO0VBQ2Isa0JBQWtCO0VBQ2xCLG9CQUFvQjtBQUN0Qjs7QUFHQTtFQUNFLFVBQVU7QUFDWiIsImZpbGUiOiJsb2dpbi1mb3JtLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYXV0aCB7XHJcbiAgd2lkdGg6IDI1cmVtO1xyXG4gIGJvcmRlci1yYWRpdXM6IDIlO1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gIGJveC1zaGFkb3c6IDAgMXB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMik7XHJcbiAgYm9yZGVyOiAzcHggc29saWQgIzk4OTY5NjtcclxuICBwYWRkaW5nOiAzcmVtIDFyZW0gM3JlbSAxcmVtO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLmF1dGggYSB7XHJcbiAgZm9udC1mYW1pbHk6IFJvYm90bywgc2Fucy1zZXJpZjtcclxuICBmb250LXNpemU6IDEycHg7XHJcbiAgY29sb3I6ICNENDQxNzE7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGRlcjtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi5hdXRoIC5mb3JtTGluayB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcclxuICBtYXJnaW4tbGVmdDogMi44cmVtO1xyXG4gIG1hcmdpbi1ib3R0b206IDFyZW07XHJcbn1cclxuXHJcbi5hdXRoIGgxLCAuYXV0aCBoMiwgLmFjdGlvbnMgYnV0dG9uIHtcclxuICBmb250LWZhbWlseTogJ1F1aWNrc2FuZCcsIHNhbnMtc2VyaWY7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIGxldHRlci1zcGFjaW5nOiAycHg7XHJcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcclxufVxyXG5cclxuLmF1dGggaDEge1xyXG4gIG1hcmdpbi10b3A6IDFyZW07XHJcbiAgZm9udC1zaXplOiAzMHB4O1xyXG59XHJcblxyXG4uYXV0aCBoMiB7XHJcbiAgZm9udC1zaXplOiAxNXB4O1xyXG4gIG1hcmdpbi1ib3R0b206IDJyZW07XHJcbn1cclxuXHJcbm1hdC1mb3JtLWZpZWxkIHtcclxuICBib3JkZXItcmFkaXVzOiAxNXB4O1xyXG4gIGJvcmRlci1jb2xvcjogI2QyMjI1ZDtcclxufVxyXG5cclxuLmFjdGlvbnMge1xyXG4gIG1hcmdpbi10b3A6IDFyZW07XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5hY3Rpb25zIGJ1dHRvbiB7XHJcbiAgd2lkdGg6IDgwJTtcclxuICBtYXJnaW4tYm90dG9tOiAxcmVtO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICBmb250OiBpbmhlcml0O1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICBwYWRkaW5nOiAxcmVtIDIuNXJlbTtcclxufVxyXG5cclxuXHJcbm1hdC1mb3JtLWZpZWxkIHtcclxuICB3aWR0aDogODAlO1xyXG59XHJcbiJdfQ== */\"] });\r\n"
    ]
  },
  "metadata": {},
  "sourceType": "module"
}
